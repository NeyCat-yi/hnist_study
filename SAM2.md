## 📝 SAM 2 “时序一致性” 核心要点总结

### 1. 记忆管理：双队列架构

- **近期队列 (Recent Frames)**：实时保存最近 $N$ 帧（通常为 6 帧）的画面特征，用于捕捉物体的短期运动和形状变化 2222。
- **提示队列 (Prompted Frames)**：永久保留所有带人工提示（如第一帧的点击）的帧，作为追踪的“初心”和绝对参照 3。



### 2. 匹配机制：多维关联

- **空间特征图 (Spatial Feature Maps)**：像“照片”一样记录物体的像素细节，用于精准的边缘定位 4。
- **对象指针 (Object Pointers)**：高层语义向量，代表物体的“身份”，即使物体变形严重也能通过语义认出它 5。
- **记忆注意力 Memory Attention)**：通过交叉注意力机制，让当前帧“回看”记忆库中的所有记录，实现跨帧的一致性 6666。



### 3. 稳健性保障：遮挡与消失处理

- **遮挡预测头**：专门判断物体是否被挡住，防止模型在看不见目标时“瞎猜” 7777。
- **保护性嵌入**：当物体消失时，存入特殊的“遮挡标记”，防止错误的背景信息污染记忆库 8。





